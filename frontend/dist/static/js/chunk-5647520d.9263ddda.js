(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5647520d"],{"0197":function(e,t,r){"use strict";r("6302")},"1dde":function(e,t,r){var i=r("d039"),o=r("b622"),a=r("2d00"),s=o("species");e.exports=function(e){return a>=51||!i((function(){var t=[],r=t.constructor={};return r[s]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},6302:function(e,t,r){},"65f0":function(e,t,r){var i=r("861d"),o=r("e8b5"),a=r("b622"),s=a("species");e.exports=function(e,t){var r;return o(e)&&(r=e.constructor,"function"!=typeof r||r!==Array&&!o(r.prototype)?i(r)&&(r=r[s],null===r&&(r=void 0)):r=void 0),new(void 0===r?Array:r)(0===t?0:t)}},8418:function(e,t,r){"use strict";var i=r("c04e"),o=r("9bf2"),a=r("5c6c");e.exports=function(e,t,r){var s=i(t);s in e?o.f(e,s,a(0,r)):e[s]=r}},a434:function(e,t,r){"use strict";var i=r("23e7"),o=r("23cb"),a=r("a691"),s=r("50c4"),n=r("7b0b"),l=r("65f0"),m=r("8418"),u=r("1dde"),c=r("ae40"),d=u("splice"),p=c("splice",{ACCESSORS:!0,0:0,1:2}),f=Math.max,g=Math.min,h=9007199254740991,F="Maximum allowed length exceeded";i({target:"Array",proto:!0,forced:!d||!p},{splice:function(e,t){var r,i,u,c,d,p,y=n(this),v=s(y.length),b=o(e,v),w=arguments.length;if(0===w?r=i=0:1===w?(r=0,i=v-b):(r=w-2,i=g(f(a(t),0),v-b)),v+r-i>h)throw TypeError(F);for(u=l(y,i),c=0;c<i;c++)d=b+c,d in y&&m(u,c,y[d]);if(u.length=i,r<i){for(c=b;c<v-i;c++)d=c+i,p=c+r,d in y?y[p]=y[d]:delete y[p];for(c=v;c>v-i+r;c--)delete y[c-1]}else if(r>i)for(c=v-i;c>b;c--)d=c+i-1,p=c+r-1,d in y?y[p]=y[d]:delete y[p];for(c=0;c<r;c++)y[c+b]=arguments[c+2];return y.length=v-i+r,u}})},a640:function(e,t,r){"use strict";var i=r("d039");e.exports=function(e,t){var r=[][e];return!!r&&i((function(){r.call(null,t||function(){throw 1},1)}))}},ae40:function(e,t,r){var i=r("83ab"),o=r("d039"),a=r("5135"),s=Object.defineProperty,n={},l=function(e){throw e};e.exports=function(e,t){if(a(n,e))return n[e];t||(t={});var r=[][e],m=!!a(t,"ACCESSORS")&&t.ACCESSORS,u=a(t,0)?t[0]:l,c=a(t,1)?t[1]:void 0;return n[e]=!!r&&!o((function(){if(m&&!i)return!0;var e={length:-1};m?s(e,1,{enumerable:!0,get:l}):e[1]=1,r.call(e,u,c)}))}},c975:function(e,t,r){"use strict";var i=r("23e7"),o=r("4d64").indexOf,a=r("a640"),s=r("ae40"),n=[].indexOf,l=!!n&&1/[1].indexOf(1,-0)<0,m=a("indexOf"),u=s("indexOf",{ACCESSORS:!0,1:0});i({target:"Array",proto:!0,forced:l||!m||!u},{indexOf:function(e){return l?n.apply(this,arguments)||0:o(this,e,arguments.length>1?arguments[1]:void 0)}})},e8b5:function(e,t,r){var i=r("c6b6");e.exports=Array.isArray||function(e){return"Array"==i(e)}},fea5:function(e,t,r){"use strict";r.r(t);var i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-dialog",{attrs:{title:"Edit FTSI",visible:e.dialogVisible,width:"800px","close-on-click-modal":!1},on:{"update:visible":function(t){e.dialogVisible=t},close:e.editDialogClose}},[r("span",[r("el-form",{ref:"editFormRef",attrs:{"label-width":"150px",model:e.editForm,rules:e.editFormRules}},[r("el-form-item",{staticClass:"required",attrs:{label:"FTSI Number",prop:"ftsi_num"}},[r("el-input",{staticClass:"shortInputForm",attrs:{disabled:!0},model:{value:e.editForm.ftsi_num,callback:function(t){e.$set(e.editForm,"ftsi_num",t)},expression:"editForm.ftsi_num"}})],1),r("el-form-item",{staticClass:"required",attrs:{label:"Rev.",prop:"rev"}},[r("el-input",{staticClass:"shortInputForm",attrs:{disabled:!0},model:{value:e.editForm.rev,callback:function(t){e.$set(e.editForm,"rev",t)},expression:"editForm.rev"}})],1),r("el-form-item",{staticClass:"required",attrs:{label:"Issue Date",prop:"issueDate",rules:[{required:!0,message:"please choose the start date",trigger:"blur"}]}},[r("el-date-picker",{staticStyle:{width:"190px"},attrs:{type:"date",placeholder:"Choose date",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd"},model:{value:e.editForm.issueDate,callback:function(t){e.$set(e.editForm,"issueDate",t)},expression:"editForm.issueDate"}})],1),r("el-form-item",{attrs:{label:"FTSI Title",prop:"ftsi_title"}},[r("el-input",{staticClass:"longInputForm",attrs:{type:"textarea"},model:{value:e.editForm.ftsi_title,callback:function(t){e.$set(e.editForm,"ftsi_title",t)},expression:"editForm.ftsi_title"}})],1),r("el-form-item",{attrs:{label:"Compliance Stat.",prop:"compliance"}},[r("el-input",{staticClass:"longInputForm",attrs:{type:"textarea"},model:{value:e.editForm.statement,callback:function(t){e.$set(e.editForm,"statement",t)},expression:"editForm.statement"}})],1),r("el-form-item",[r("el-switch",{attrs:{"active-text":"Modify the type information"},model:{value:e.modifyType,callback:function(t){e.modifyType=t},expression:"modifyType"}})],1),r("div",{directives:[{name:"show",rawName:"v-show",value:e.modifyType,expression:"modifyType"}]},[r("el-form-item",{staticClass:"required",attrs:{label:"Monitor Type",prop:"type"}},[r("el-select",{attrs:{placeholder:"Please choice"},on:{change:e.monitorTypeCheck},model:{value:e.editForm.dep_type,callback:function(t){e.$set(e.editForm,"dep_type",t)},expression:"editForm.dep_type"}},e._l(e.monitorType,(function(e){return r("el-option",{attrs:{label:e[1],value:e[0]}})})),1)],1),r("div",{directives:[{name:"show",rawName:"v-show",value:e.showCustomizeForm,expression:"showCustomizeForm"}],staticClass:"customizeForm"},[r("el-form-item",{attrs:{label:"Trigger"}},[r("el-col",{attrs:{span:9}},[r("el-form-item",{attrs:{prop:"customizePara.trigger.type"}},[r("el-select",{attrs:{placeholder:"Please choice"},on:{change:e.paraShowChange},model:{value:e.editForm.customizePara.trigger.type,callback:function(t){e.$set(e.editForm.customizePara.trigger,"type",t)},expression:"editForm.customizePara.trigger.type"}},e._l(e.triggerType,(function(e){return r("el-option",{attrs:{label:e[1],value:e[0]}})})),1)],1)],1),r("el-col",{attrs:{span:13}},[r("div",{directives:[{name:"show",rawName:"v-show",value:e.showTriggerFTSI,expression:"showTriggerFTSI"}]},[r("el-form-item",{staticClass:"required",attrs:{label:"FTSI num.",prop:"customizePara.trigger.parameter",rules:[{required:e.showTriggerFTSI,message:"please enter the related FTSI",trigger:"blur"},{validator:e.onlyNum}]}},[r("el-input",{staticClass:"shortInputForm",model:{value:e.editForm.customizePara.trigger.parameter,callback:function(t){e.$set(e.editForm.customizePara.trigger,"parameter",t)},expression:"editForm.customizePara.trigger.parameter"}})],1)],1),r("div",{directives:[{name:"show",rawName:"v-show",value:e.showTriggerDate,expression:"showTriggerDate"}]},[r("el-form-item",{staticClass:"required",attrs:{label:"Date",prop:"triggerDateForm",rules:[{required:e.showTriggerDate,message:"please choose the start date",trigger:"blur"}]}},[r("el-date-picker",{staticStyle:{width:"190px"},attrs:{type:"date",placeholder:"Choose date",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd"},model:{value:e.editForm.triggerDateForm,callback:function(t){e.$set(e.editForm,"triggerDateForm",t)},expression:"editForm.triggerDateForm"}})],1)],1)])],1),e._l(e.editForm.customizePara.monitorParam,(function(t,i){return r("div",{key:t.key},[r("el-form-item",{staticClass:"required",attrs:{label:"Monitor Type "+(i+1),prop:"customizePara.monitorParam."+i+".type",rules:[{required:e.showCustomizeForm,message:"please choose the monitor type",trigger:"change"}]}},[r("el-form-item",[r("el-select",{attrs:{placeholder:"Please choice"},model:{value:t.type,callback:function(r){e.$set(t,"type",r)},expression:"item.type"}},e._l(e.monitorType.slice(0,-1),(function(e){return r("el-option",{attrs:{label:e[1],value:e[0]}})})),1),r("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"info"},on:{click:function(r){return e.deleteCusMonitor(t)}}},[e._v("Delete")])],1)],1),r("el-form-item",{attrs:{label:"Period"}},[r("el-col",{attrs:{span:9}},[r("el-form-item",{attrs:{prop:"customizePara.monitorParam."+i+".period"}},[r("el-input",{staticClass:"shortInputForm",model:{value:t.period,callback:function(r){e.$set(t,"period",r)},expression:"item.period"}})],1)],1),r("el-col",{attrs:{span:13}},[r("el-form-item",{staticClass:"required",attrs:{label:"Total Times",prop:"customizePara.monitorParam."+i+".times",rules:[{required:e.showCustomizeForm,message:"please enter total times",trigger:"blur"},{validator:e.onlyNum}]}},[r("el-input",{staticClass:"shortInputForm",model:{value:t.times,callback:function(r){e.$set(t,"times",r)},expression:"item.times"}})],1)],1)],1)],1)})),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:e.addCusMonitor}},[e._v("add Monitor")])],1)],2),r("div",{directives:[{name:"show",rawName:"v-show",value:!e.showCustomizeForm,expression:"!showCustomizeForm"}]},[r("el-form-item",{attrs:{label:"Period"}},[r("el-col",{attrs:{span:9}},[r("el-form-item",{attrs:{prop:"period"}},[r("el-input",{staticClass:"shortInputForm",model:{value:e.editForm.period,callback:function(t){e.$set(e.editForm,"period",t)},expression:"editForm.period"}})],1)],1),r("el-col",{attrs:{span:13}},[r("el-form-item",{staticClass:"required",attrs:{label:"Total Times",prop:"total_times",rules:[{required:!this.showCustomizeForm,message:"please enter total times",trigger:"blur"},{validator:e.onlyNum}]}},[r("el-input",{staticClass:"shortInputForm",model:{value:e.editForm.total_times,callback:function(t){e.$set(e.editForm,"total_times",t)},expression:"editForm.total_times"}})],1)],1)],1)],1)],1),r("el-form-item",[r("el-switch",{attrs:{"active-text":"Modify the effective range"},model:{value:e.modifyRange,callback:function(t){e.modifyRange=t},expression:"modifyRange"}})],1),r("div",{directives:[{name:"show",rawName:"v-show",value:e.modifyRange,expression:"modifyRange"}]},[r("el-form-item",{attrs:{label:"Applied IPS",prop:"appliedIPS"}},[r("el-transfer",{attrs:{titles:["Unapplied","Applied"],data:e.IPSdata},model:{value:e.editForm.appliedIPS,callback:function(t){e.$set(e.editForm,"appliedIPS",t)},expression:"editForm.appliedIPS"}})],1)],1)],1)],1),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("Cancel")]),r("el-button",{attrs:{type:"primary"},on:{click:e.editFTSI}},[e._v("Submit")])],1)])},o=[],a=(r("c975"),r("a434"),r("96cf"),r("1da1")),s={name:"editFTSI",data:function(){var e=function(e){for(var t=[],r=1;r<=15;r++)t.push({key:600100+r,label:"".concat(600100+r)});return t},t=function(e,t,r){var i=/^[0-9_]*$/;i.test(t)?r():r(new Error("The format of the input is illegal"))},r=function(e,t,r){var i=/^[A-Z]{1}$/;i.test(t)?r():r(new Error("The format of the Rev. is illegal"))};return{IPSdata:e(),dialogVisible:!1,activeDisabled:!1,monitorType:[],triggerType:[],showCustomizeForm:!1,showTriggerFTSI:!1,showTriggerDate:!1,editForm:{triggerDateForm:"",customizePara:{trigger:{type:"NA",parameter:""},monitorParam:[{type:"",period:"",times:""}]}},modifyType:!1,modifyRange:!1,editFormRules:{ftsi_num:[{required:!0,message:"please enter the FTSI number",trigger:"blur"},{validator:t,trigger:"blur"}],rev:[{required:!0,message:"please enter the Revision",trigger:"blur"},{validator:r,trigger:"blur"}],dep_type:[{required:!0,message:"please choose the monitor type",trigger:"change"}],appliedIPS:[{required:!0,message:"At least one IPS must be chosen",trigger:"change"}]}}},methods:{init:function(e){console.log(e),this.getTypeFTSI(),this.getFTSIInfo(e)},getFTSIInfo:function(e){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function r(){var i,o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,t.$http.get("ftsiMgr/getFTSIInfo/",{params:{id:e}});case 2:i=r.sent,o=i.data,t.editForm=o.data,t.monitorTypeCheck(),t.paraShowControl(),!0===t.showTriggerDate&&(t.editForm.triggerDateForm=t.editForm.customizePara.trigger.parameter),console.log(t.editForm);case 9:case"end":return r.stop()}}),r)})))()},onlyNum:function(e,t,r){var i=/^[0-9_-]*$/;i.test(t)?r():r(new Error("The format of the input is illegal"))},editFTSI:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$refs.editFormRef.validate(function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(r){var i,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r){t.next=2;break}return t.abrupt("return");case 2:return e.editForm.modifyType=e.modifyType,e.editForm.modifyRange=e.modifyRange,!0===e.showTriggerDate&&(e.editForm.customizePara.trigger.parameter=e.editForm.triggerDateForm),t.next=7,e.$http.put("ftsiMgr/editFTSI/",e.editForm);case 7:i=t.sent,o=i.data,200!==o.meta.status&&e.$message.error(o.meta.msg),e.$message.success(o.meta.msg),e.dialogVisible=!1,e.$parent.getFTSIList();case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 1:case"end":return t.stop()}}),t)})))()},editDialogClose:function(){this.$refs.editFormRef.resetFields(),this.modifyRange=!1,this.modifyType=!1},getTypeFTSI:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var r,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get("ftsiMgr/paraforAddFTSI/");case 2:r=t.sent,i=r.data,200!==i.meta.status&&e.$message.error("failed to get the type list"),e.monitorType=i.data.monitorType,e.triggerType=i.data.triggerType,e.dialogVisible=!0;case 8:case"end":return t.stop()}}),t)})))()},monitorTypeCheck:function(){if("CUS"===this.editForm.dep_type)return this.editForm.total_times=1,this.editForm.period="",this.showCustomizeForm=!0;this.showCustomizeForm=!1,this.showTriggerFTSI=!1,this.showTriggerDate=!1},addCusMonitor:function(){if(this.editForm.customizePara.monitorParam.length>2)return this.$message.error("The amount must be no more than 3!");this.editForm.customizePara.monitorParam.push({type:"",period:"",times:""})},deleteCusMonitor:function(e,t){t=this.editForm.customizePara.monitorParam.indexOf(e);-1!==t&&this.editForm.customizePara.monitorParam.splice(t,1)},paraShowControl:function(){"NA"===this.editForm.customizePara.trigger.type?(this.showTriggerFTSI=!1,this.showTriggerDate=!1):"TFTSI"===this.editForm.customizePara.trigger.type?(this.showTriggerFTSI=!0,this.showTriggerDate=!1):(this.showTriggerFTSI=!1,this.showTriggerDate=!0)},paraShowChange:function(){this.editForm.customizePara.trigger.parameter="",this.paraShowControl()}}},n=s,l=(r("0197"),r("2877")),m=Object(l["a"])(n,i,o,!1,null,"2cef82fc",null);t["default"]=m.exports}}]);
//# sourceMappingURL=chunk-5647520d.9263ddda.js.map