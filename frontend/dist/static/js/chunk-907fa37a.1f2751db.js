(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-907fa37a"],{"1c68":function(e,t,r){},"1dde":function(e,t,r){var a=r("d039"),i=r("b622"),o=r("2d00"),s=i("species");e.exports=function(e){return o>=51||!a((function(){var t=[],r=t.constructor={};return r[s]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},"25f0":function(e,t,r){"use strict";var a=r("6eeb"),i=r("825a"),o=r("d039"),s=r("ad6d"),n="toString",l=RegExp.prototype,u=l[n],p=o((function(){return"/a/b"!=u.call({source:"a",flags:"b"})})),m=u.name!=n;(p||m)&&a(RegExp.prototype,n,(function(){var e=i(this),t=String(e.source),r=e.flags,a=String(void 0===r&&e instanceof RegExp&&!("flags"in l)?s.call(e):r);return"/"+t+"/"+a}),{unsafe:!0})},"5f22":function(e,t,r){"use strict";r("1c68")},"65f0":function(e,t,r){var a=r("861d"),i=r("e8b5"),o=r("b622"),s=o("species");e.exports=function(e,t){var r;return i(e)&&(r=e.constructor,"function"!=typeof r||r!==Array&&!i(r.prototype)?a(r)&&(r=r[s],null===r&&(r=void 0)):r=void 0),new(void 0===r?Array:r)(0===t?0:t)}},8418:function(e,t,r){"use strict";var a=r("c04e"),i=r("9bf2"),o=r("5c6c");e.exports=function(e,t,r){var s=a(t);s in e?i.f(e,s,o(0,r)):e[s]=r}},a434:function(e,t,r){"use strict";var a=r("23e7"),i=r("23cb"),o=r("a691"),s=r("50c4"),n=r("7b0b"),l=r("65f0"),u=r("8418"),p=r("1dde"),m=r("ae40"),d=p("splice"),c=m("splice",{ACCESSORS:!0,0:0,1:2}),g=Math.max,f=Math.min,h=9007199254740991,F="Maximum allowed length exceeded";a({target:"Array",proto:!0,forced:!d||!c},{splice:function(e,t){var r,a,p,m,d,c,v=n(this),y=s(v.length),b=i(e,y),w=arguments.length;if(0===w?r=a=0:1===w?(r=0,a=y-b):(r=w-2,a=f(g(o(t),0),y-b)),y+r-a>h)throw TypeError(F);for(p=l(v,a),m=0;m<a;m++)d=b+m,d in v&&u(p,m,v[d]);if(p.length=a,r<a){for(m=b;m<y-a;m++)d=m+a,c=m+r,d in v?v[c]=v[d]:delete v[c];for(m=y;m>y-a+r;m--)delete v[m-1]}else if(r>a)for(m=y-a;m>b;m--)d=m+a-1,c=m+r-1,d in v?v[c]=v[d]:delete v[c];for(m=0;m<r;m++)v[m+b]=arguments[m+2];return v.length=y-a+r,p}})},a640:function(e,t,r){"use strict";var a=r("d039");e.exports=function(e,t){var r=[][e];return!!r&&a((function(){r.call(null,t||function(){throw 1},1)}))}},ad6d:function(e,t,r){"use strict";var a=r("825a");e.exports=function(){var e=a(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},ae40:function(e,t,r){var a=r("83ab"),i=r("d039"),o=r("5135"),s=Object.defineProperty,n={},l=function(e){throw e};e.exports=function(e,t){if(o(n,e))return n[e];t||(t={});var r=[][e],u=!!o(t,"ACCESSORS")&&t.ACCESSORS,p=o(t,0)?t[0]:l,m=o(t,1)?t[1]:void 0;return n[e]=!!r&&!i((function(){if(u&&!a)return!0;var e={length:-1};u?s(e,1,{enumerable:!0,get:l}):e[1]=1,r.call(e,p,m)}))}},c478:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-dialog",{attrs:{title:"Update FTSI",visible:e.dialogVisible,width:"800px","close-on-click-modal":!1},on:{"update:visible":function(t){e.dialogVisible=t},close:e.updateDialogClose}},[r("span",[r("el-form",{ref:"updateFormRef",attrs:{"label-width":"150px",model:e.updateForm,rules:e.updateFormRules}},[r("el-form-item",{staticClass:"required",attrs:{label:"FTSI Number",prop:"ftsi_num"}},[r("el-input",{staticClass:"shortInputForm",attrs:{disabled:!0},model:{value:e.updateForm.ftsi_num,callback:function(t){e.$set(e.updateForm,"ftsi_num",t)},expression:"updateForm.ftsi_num"}})],1),r("el-form-item",{staticClass:"required",attrs:{label:"Rev.",prop:"rev"}},[r("el-input",{staticClass:"shortInputForm",attrs:{disabled:e.pendingFlag},model:{value:e.updateForm.rev,callback:function(t){e.$set(e.updateForm,"rev",t)},expression:"updateForm.rev"}})],1),r("el-form-item",{staticClass:"required",attrs:{label:"Issue Date",prop:"issueDate",rules:[{required:!0,message:"please choose the start date",trigger:"blur"}]}},[r("el-date-picker",{staticStyle:{width:"190px"},attrs:{type:"date",placeholder:"Choose date",disabled:e.pendingFlag,format:"yyyy-MM-dd","value-format":"yyyy-MM-dd"},model:{value:e.updateForm.issueDate,callback:function(t){e.$set(e.updateForm,"issueDate",t)},expression:"updateForm.issueDate"}})],1),r("el-form-item",{attrs:{label:"FTSI Title",prop:"ftsi_title"}},[r("el-input",{staticClass:"longInputForm",attrs:{type:"textarea",disabled:e.pendingFlag},model:{value:e.updateForm.ftsi_title,callback:function(t){e.$set(e.updateForm,"ftsi_title",t)},expression:"updateForm.ftsi_title"}})],1),r("el-form-item",{attrs:{label:"Compliance Stat.",prop:"compliance"}},[r("el-input",{staticClass:"longInputForm",attrs:{type:"textarea",disabled:e.pendingFlag},model:{value:e.updateForm.statement,callback:function(t){e.$set(e.updateForm,"statement",t)},expression:"updateForm.statement"}})],1),r("el-form-item",[r("el-switch",{attrs:{"active-text":"Modify the type information"},model:{value:e.modifyType,callback:function(t){e.modifyType=t},expression:"modifyType"}})],1),r("div",{directives:[{name:"show",rawName:"v-show",value:e.modifyType,expression:"modifyType"}]},[r("el-form-item",{staticClass:"required",attrs:{label:"Monitor Type",prop:"type"}},[r("el-select",{attrs:{placeholder:"Please choice"},on:{change:e.monitorTypeCheck},model:{value:e.updateForm.dep_type,callback:function(t){e.$set(e.updateForm,"dep_type",t)},expression:"updateForm.dep_type"}},e._l(e.monitorType,(function(e){return r("el-option",{attrs:{label:e[1],value:e[0]}})})),1)],1),r("div",{directives:[{name:"show",rawName:"v-show",value:e.showCustomizeForm,expression:"showCustomizeForm"}],staticClass:"customizeForm"},[r("el-form-item",{attrs:{label:"Trigger"}},[r("el-col",{attrs:{span:9}},[r("el-form-item",{attrs:{prop:"customizePara.trigger.type"}},[r("el-select",{attrs:{placeholder:"Please choice"},on:{change:e.paraShowChange},model:{value:e.updateForm.customizePara.trigger.type,callback:function(t){e.$set(e.updateForm.customizePara.trigger,"type",t)},expression:"updateForm.customizePara.trigger.type"}},e._l(e.triggerType,(function(e){return r("el-option",{attrs:{label:e[1],value:e[0]}})})),1)],1)],1),r("el-col",{attrs:{span:13}},[r("div",{directives:[{name:"show",rawName:"v-show",value:e.showTriggerFTSI,expression:"showTriggerFTSI"}]},[r("el-form-item",{staticClass:"required",attrs:{label:"FTSI num.",prop:"customizePara.trigger.parameter",rules:[{required:e.showTriggerFTSI,message:"please enter the related FTSI",trigger:"blur"},{validator:e.onlyNum}]}},[r("el-input",{staticClass:"shortInputForm",model:{value:e.updateForm.customizePara.trigger.parameter,callback:function(t){e.$set(e.updateForm.customizePara.trigger,"parameter",t)},expression:"updateForm.customizePara.trigger.parameter"}})],1)],1),r("div",{directives:[{name:"show",rawName:"v-show",value:e.showTriggerDate,expression:"showTriggerDate"}]},[r("el-form-item",{staticClass:"required",attrs:{label:"Date",prop:"triggerDateForm",rules:[{required:e.showTriggerDate,message:"please choose the start date",trigger:"blur"}]}},[r("el-date-picker",{staticStyle:{width:"190px"},attrs:{type:"date",placeholder:"Choose date",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd"},model:{value:e.updateForm.triggerDateForm,callback:function(t){e.$set(e.updateForm,"triggerDateForm",t)},expression:"updateForm.triggerDateForm"}})],1)],1)])],1),e._l(e.updateForm.customizePara.monitorParam,(function(t,a){return r("div",{key:t.key},[r("el-form-item",{staticClass:"required",attrs:{label:"Monitor Type "+(a+1),prop:"customizePara.monitorParam."+a+".type",rules:[{required:e.showCustomizeForm,message:"please choose the monitor type",trigger:"change"}]}},[r("el-form-item",[r("el-select",{attrs:{placeholder:"Please choice"},model:{value:t.type,callback:function(r){e.$set(t,"type",r)},expression:"item.type"}},e._l(e.monitorType.slice(0,-1),(function(e){return r("el-option",{attrs:{label:e[1],value:e[0]}})})),1),r("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"info"},on:{click:function(r){return e.deleteCusMonitor(t)}}},[e._v("Delete")])],1)],1),r("el-form-item",{attrs:{label:"Period"}},[r("el-col",{attrs:{span:9}},[r("el-form-item",{attrs:{prop:"customizePara.monitorParam."+a+".period"}},[r("el-input",{staticClass:"shortInputForm",model:{value:t.period,callback:function(r){e.$set(t,"period",r)},expression:"item.period"}})],1)],1),r("el-col",{attrs:{span:13}},[r("el-form-item",{staticClass:"required",attrs:{label:"Total Times",prop:"customizePara.monitorParam."+a+".times",rules:[{required:e.showCustomizeForm,message:"please enter total times",trigger:"blur"},{validator:e.onlyNum}]}},[r("el-input",{staticClass:"shortInputForm",model:{value:t.times,callback:function(r){e.$set(t,"times",r)},expression:"item.times"}})],1)],1)],1)],1)})),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:e.addCusMonitor}},[e._v("add Monitor")])],1)],2),r("div",{directives:[{name:"show",rawName:"v-show",value:!e.showCustomizeForm,expression:"!showCustomizeForm"}]},[r("el-form-item",{attrs:{label:"Period"}},[r("el-col",{attrs:{span:9}},[r("el-form-item",{attrs:{prop:"period"}},[r("el-input",{staticClass:"shortInputForm",model:{value:e.updateForm.period,callback:function(t){e.$set(e.updateForm,"period",t)},expression:"updateForm.period"}})],1)],1),r("el-col",{attrs:{span:13}},[r("el-form-item",{staticClass:"required",attrs:{label:"Total Times",prop:"total_times",rules:[{required:!this.showCustomizeForm,message:"please enter total times",trigger:"blur"},{validator:e.onlyNum}]}},[r("el-input",{staticClass:"shortInputForm",model:{value:e.updateForm.total_times,callback:function(t){e.$set(e.updateForm,"total_times",t)},expression:"updateForm.total_times"}})],1)],1)],1)],1)],1),r("el-form-item",[r("el-switch",{attrs:{"active-text":"Modify the effective range"},model:{value:e.modifyRange,callback:function(t){e.modifyRange=t},expression:"modifyRange"}})],1),r("div",{directives:[{name:"show",rawName:"v-show",value:e.modifyRange,expression:"modifyRange"}]},[r("el-form-item",{attrs:{label:"Applied IPS",prop:"appliedIPS"}},[r("el-transfer",{attrs:{titles:["Unapplied","Applied"],data:e.IPSdata},model:{value:e.updateForm.appliedIPS,callback:function(t){e.$set(e.updateForm,"appliedIPS",t)},expression:"updateForm.appliedIPS"}})],1)],1)],1)],1),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("Cancel")]),r("el-button",{attrs:{type:"primary"},on:{click:e.updateFTSI}},[e._v("Submit")])],1)])},i=[],o=(r("c975"),r("a434"),r("d3b7"),r("25f0"),r("96cf"),r("1da1")),s={name:"editFTSI",data:function(){var e=function(e){for(var t=[],r=1;r<=15;r++)t.push({key:600100+r,label:"".concat(600100+r)});return t},t=function(e,t,r){var a=/^[0-9_]*$/;a.test(t)?r():r(new Error("The format of the input is illegal"))},r=function(e,t,r){var a=/^[A-Z]{1}$/;a.test(t)?r():r(new Error("The format of the Rev. is illegal"))};return{IPSdata:e(),dialogVisible:!1,activeDisabled:!1,pendingFlag:!1,monitorType:[],triggerType:[],showCustomizeForm:!1,showTriggerFTSI:!1,showTriggerDate:!1,revOriginal:"",updateForm:{issueDate:"",customizePara:{triggerDateForm:"",trigger:{type:"NA",parameter:""},monitorParam:[{type:"",period:"",times:""}]}},modifyType:!1,modifyRange:!1,updateFormRules:{ftsi_num:[{required:!0,message:"please enter the FTSI number",trigger:"blur"},{validator:t,trigger:"blur"}],rev:[{required:!0,message:"please enter the Revision",trigger:"blur"},{validator:r,trigger:"blur"},{validator:this.validateRevUpdate,trigger:"blur"}],dep_type:[{required:!0,message:"please choose the monitor type",trigger:"change"}],appliedIPS:[{required:!0,message:"At least one IPS must be chosen",trigger:"change"}]}}},methods:{applied_ips_compare:function(e,t){e.sort().toString()!==t.sort().toString()&&(this.modifyRange=!0)},init:function(e){this.getTypeFTSI(),this.getFTSIInfo(e)},initForPending:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return t.getTypeFTSI(),r.next=3,t.getFTSIInfo(e.id);case 3:t.updateForm.pending_id=e.pending_id,t.updateForm.rev=e.revision,t.updateForm.ftsi_title=e.ftsi_title,t.updateForm.statement!==e.statement&&(t.modifyType=!0),t.updateForm.statement=e.statement,t.updateForm.issueDate=e.issue_date,t.applied_ips_compare(t.updateForm.appliedIPS,e.impact_ips),t.updateForm.appliedIPS=e.impact_ips,t.pendingFlag=!0;case 12:case"end":return r.stop()}}),r)})))()},validateRevUpdate:function(e,t,r){t<=this.revOriginal?r(new Error("The version number needs to be greater than the original")):r()},getFTSIInfo:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function r(){var a,i;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,t.$http.get("ftsiMgr/getFTSIInfo/",{params:{id:e}});case 2:a=r.sent,i=a.data,t.updateForm=i.data,console.log(t.updateForm),t.revOriginal=t.updateForm.rev,t.monitorTypeCheck(),t.paraShowControl(),!0===t.showTriggerDate&&(t.updateForm.triggerDateForm=t.updateForm.customizePara.trigger.parameter);case 10:case"end":return r.stop()}}),r)})))()},onlyNum:function(e,t,r){var a=/^[0-9_-]*$/;a.test(t)?r():r(new Error("The format of the input is illegal"))},updateFTSI:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$refs.updateFormRef.validate(function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(r){var a,i,o,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r){t.next=2;break}return t.abrupt("return");case 2:return e.updateForm.modifyType=e.modifyType,e.updateForm.modifyRange=e.modifyRange,!0===e.showTriggerDate&&(e.updateForm.customizePara.trigger.parameter=e.updateForm.triggerDateForm),t.next=7,e.$http.put("ftsiMgr/updateFTSI/",e.updateForm);case 7:if(a=t.sent,i=a.data,200!==i.meta.status&&e.$message.error(i.meta.msg),!0!==e.pendingFlag){t.next=17;break}return t.next=13,e.$http.put("ftsiMgr/PendingClose/",e.updateForm);case 13:o=t.sent,s=o.data,200!==s.meta.status&&e.$message.error(s.meta.msg),e.$message.success(s.meta.msg);case 17:e.dialogVisible=!1,e.$emit("updateList");case 19:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 1:case"end":return t.stop()}}),t)})))()},updateDialogClose:function(){this.$refs.updateFormRef.resetFields(),this.modifyRange=!1,this.modifyType=!1},getTypeFTSI:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get("ftsiMgr/paraforAddFTSI/");case 2:r=t.sent,a=r.data,200!==a.meta.status&&e.$message.error("failed to get the type list"),e.monitorType=a.data.monitorType,e.triggerType=a.data.triggerType,e.dialogVisible=!0;case 8:case"end":return t.stop()}}),t)})))()},monitorTypeCheck:function(){if("CUS"===this.updateForm.dep_type)return this.updateForm.total_times=1,this.updateForm.period="",this.showCustomizeForm=!0;this.showCustomizeForm=!1,this.showTriggerFTSI=!1,this.showTriggerDate=!1},addCusMonitor:function(){if(this.updateForm.customizePara.monitorParam.length>2)return this.$message.error("The amount must be no more than 3!");this.updateForm.customizePara.monitorParam.push({type:"",period:"",times:""})},deleteCusMonitor:function(e,t){t=this.updateForm.customizePara.monitorParam.indexOf(e);-1!==t&&this.updateForm.customizePara.monitorParam.splice(t,1)},paraShowControl:function(){"NA"===this.updateForm.customizePara.trigger.type?(this.showTriggerFTSI=!1,this.showTriggerDate=!1):"TFTSI"===this.updateForm.customizePara.trigger.type?(this.showTriggerFTSI=!0,this.showTriggerDate=!1):(this.showTriggerFTSI=!1,this.showTriggerDate=!0)},paraShowChange:function(){this.updateForm.customizePara.trigger.parameter="",this.paraShowControl()}}},n=s,l=(r("5f22"),r("2877")),u=Object(l["a"])(n,a,i,!1,null,"45d0fc68",null);t["default"]=u.exports},c975:function(e,t,r){"use strict";var a=r("23e7"),i=r("4d64").indexOf,o=r("a640"),s=r("ae40"),n=[].indexOf,l=!!n&&1/[1].indexOf(1,-0)<0,u=o("indexOf"),p=s("indexOf",{ACCESSORS:!0,1:0});a({target:"Array",proto:!0,forced:l||!u||!p},{indexOf:function(e){return l?n.apply(this,arguments)||0:i(this,e,arguments.length>1?arguments[1]:void 0)}})},e8b5:function(e,t,r){var a=r("c6b6");e.exports=Array.isArray||function(e){return"Array"==a(e)}}}]);
//# sourceMappingURL=chunk-907fa37a.1f2751db.js.map